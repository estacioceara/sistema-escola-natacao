#!/usr/bin/env php
<?php

use App\Entity\EducationalPlan;

require dirname(__DIR__) . '/vendor/autoload.php';

$entityManager = require dirname(__DIR__) . '/doctrine.php';

$plans = include 'DataFixtures/plans.php';

foreach ($plans as $data) {
    $plan = new EducationalPlan();
    $plan->setName($data['name']);
    $plan->setValue($data['value']);
    $plan->setStatus($data['status']);
    $plan->setUpdatedAt(new DateTime());
    $plan->setCreatedAt(new DateTime());

    $entityManager->persist($plan);
    echo "Inserindo novo plano para testes..." . PHP_EOL;
}

$entityManager->flush();
